.search-container
	.search-container-inner
		h1(ng-if="q.$") #[i.glyphicon.glyphicon-search]
		input#search(type="search" ng-model="q.$" value="" placeholder="start typing..." ng-style="q.$ && {'margin-top': '3%'} || !q.$ && {'margin-top': '20%'}" ng-class="q.$ && test" autofocus).search.form-control
		.row.center-justify.shrunk(ng-show="q.$")
			label show&nbsp;
			select.form-control.tenth.center(ng-model="quantity")
					option 5
					option(selected="selected") 10
					option 25
					option 50
					option 75
					option 100
					option 150
					option 200
					option 300
					option 400
					option 500
					option 1000
		.row.three-fourths.center
			.results-container(ng-if="q.$" ng-controller="searchResultsController")
				tabset
					tab(heading="clients")
						table.table.table-hover.table-condensed.center
							thead
								tr
									th.col-md-1 #
									th.col-md-9 Client Name
									th.col-md-1 Sites
									th.col-md-1
							tbody
								tr(ng-repeat="client in clients | filter:q:strict | limitTo:quantity")
									td.col-md-1.success(ng-if="client.id.toLowerCase().indexOf(q.$.toLowerCase()) != -1") {{client.id}}
									td.col-md-1(ng-if="client.id.toLowerCase().indexOf(q.$.toLowerCase()) == -1") {{client.id}}
									td.col-md-9.success(ng-if="client.name.toLowerCase().indexOf(q.$.toLowerCase()) != -1") {{client.name}}
									td.col-md-9(ng-if="client.name.toLowerCase().indexOf(q.$.toLowerCase()) == -1") {{client.name}}
									td.col-md-1 {{client.sites.length}}
									td.col-md-1
										include modals/_clientDetails.jade
					tab(heading="web sites")
						div(ng-repeat="client in clients | filter:q:strict | limitTo:quantity" ng-controller="collapseController")
							h4 {{client.name}}
							table.table.table-striped.table-hover.table-condensed.center.sites-table(ng-if="client.sites.length > 0")
								theads
									tr
										th.col-md-1 #
										th.col-md-3 Name
										th.col-md-7 URL
										th.col-md-1
								tbody
									tr(ng-repeat="site in client.sites")
										td.col-md-1 {{site.id}}
										td.col-md-3 {{site.name}}
										td.col-md-7 {{site.url}}
											.collapsed(collapse="isCollapsed")
												br
												.row.head.shrunk
													.col-md-3 Type
													.col-md-3 Connection
													.col-md-3 Username
													.col-md-3 Password
												.row.body.shrunk(ng-repeat="login in site.logins.types track by $index")
													.body-wrapper(ng-controller="dataCopyController" tooltip="Click any field to select. Click again to deselect." tooltip-placement="left")
														.col-md-3(ng-click="toggleInput($event)") {{site.logins.types[$index] != null ? site.logins.types[$index] : "n/a"}}
														.col-md-3(ng-click="toggleInput($event)") {{site.logins.connections[$index] != null ? site.logins.connections[$index] : "n/a"}}
														.col-md-3(ng-click="toggleInput($event)") {{site.logins.usernames[$index] != null ? site.logins.usernames[$index] : "n/a"}}
														.col-md-3(ng-click="toggleInput($event)") {{site.logins.passwords[$index] != null ? site.logins.passwords[$index] : "n/a"}}
												br
										td.col-md-1.right-justify
											button.btn.btn-default.toggle(ng-click="isCollapsed = !isCollapsed")
												i.glyphicon.glyphicon-chevron-down(ng-if="isCollapsed")
												i.glyphicon.glyphicon-chevron-up(ng-if="!isCollapsed")
					tab(heading="logins")
						div(ng-repeat="client in clients | filter:q:strict | limitTo:quantity")
							table.table.table-striped.table-hover.table-condensed.center.sites-table(ng-repeat="site in client.sites track by $index")
								thead
									tr
										th {{client.name}} | {{site.name}}
								tbody
									tr
										td
											br
											.row.head.shrunk
												.col-md-3.not-padded Type
												.col-md-3.not-padded Connection
												.col-md-3.not-padded Username
												.col-md-3.not-padded Password
											.row.body.shrunk(ng-repeat="login in site.logins.types track by $index")
												.body-wrapper(ng-controller="dataCopyController")
													.col-md-3.padded(ng-click="toggleInput($event)") {{site.logins.types[$index] != null ? site.logins.types[$index] : "n/a"}}
													.col-md-3.padded(ng-click="toggleInput($event)") {{site.logins.connections[$index] != null ? site.logins.connections[$index] : "n/a"}}
													.col-md-3.padded(ng-click="toggleInput($event)") {{site.logins.usernames[$index] != null ? site.logins.usernames[$index] : "n/a"}}
													.col-md-3.padded(ng-click="toggleInput($event)") {{site.logins.passwords[$index] != null ? site.logins.passwords[$index] : "n/a"}}
											br
				h3 test


